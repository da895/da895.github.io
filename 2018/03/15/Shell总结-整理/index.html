<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="shell,transport," />










<meta name="description" content="简介Shell各方面的编程内容总结下来并不断更新，以便以后使用时查询。">
<meta name="keywords" content="shell,transport">
<meta property="og:type" content="article">
<meta property="og:title" content="Shell总结(整理)">
<meta property="og:url" content="http://yoursite.com/2018/03/15/Shell总结-整理/index.html">
<meta property="og:site_name" content="淡泊明志，宁静致远">
<meta property="og:description" content="简介Shell各方面的编程内容总结下来并不断更新，以便以后使用时查询。">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-03-15T15:37:20.003Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shell总结(整理)">
<meta name="twitter:description" content="简介Shell各方面的编程内容总结下来并不断更新，以便以后使用时查询。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/03/15/Shell总结-整理/"/>





  <title>Shell总结(整理) | 淡泊明志，宁静致远</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">淡泊明志，宁静致远</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/15/Shell总结-整理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tony">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://static.pexels.com/photos/34533/owl-glitter-stuffed-animal-cute.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="淡泊明志，宁静致远">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Shell总结(整理)</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-15T23:05:13+08:00">
                2018-03-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/transport/" itemprop="url" rel="index">
                    <span itemprop="name">transport</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Shell各方面的编程内容总结下来并不断更新，以便以后使用时查询。<br><a id="more"></a></p>
<h2 id="详解"><a href="#详解" class="headerlink" title="详解"></a>详解</h2><h3 id="Shell输出不换行"><a href="#Shell输出不换行" class="headerlink" title="Shell输出不换行"></a>Shell输出不换行</h3><p> 实现类echo的简单硬输出，不自动加换行符。<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">#将脚本接收的参数作为一个串($@或$*)处理,并去掉尾部可能存在的换行符(\n）  </span><br><span class="line">#!/bin/bash  </span><br><span class="line">echo -n &quot;$*&quot;                         #方法一：-n参数,输出脚本参数,强制不换行  </span><br><span class="line">printf &quot;%s&quot; &quot;$*&quot;                     #方法二：格式化输出命令printf,格式串无换行  </span><br><span class="line">echo &quot;$*&quot; | tr -d &apos;\n&apos;               #方法三：转换/删除命令tr,-d删除字符集中的字符  </span><br><span class="line">echo &quot;$*&quot; | awk &apos;&#123;printf(&quot;%s&quot;, $0)&#125;&apos; #方法四：模式-命令指令awk </span><br><span class="line"> ```  </span><br><span class="line"> ### 创建shell脚本库  </span><br><span class="line"> 创建shell脚本库library.sh（里面仅包括各种自定义的函数封装，因非函数引入时会执行）。在其他的脚本中需要使用库中函数时加入语句source ./library.sh，其中./library.sh是库的相对路径。并且source的缩写是&quot;.&quot;，因此等价. ./library.sh。然后就可以按正常方式调用库中的函数了。  </span><br><span class="line"> ### shell特殊变量  </span><br><span class="line"> </span><br><span class="line"> $0       ：当前脚本的文件名  </span><br><span class="line">$num ：num为从1开始的数字，$1是第一个参数，$2是第二个参数，$&#123;10&#125;是第十个参数  </span><br><span class="line">$#       ：传入脚本的参数的个数  </span><br><span class="line">$*        ：所有的位置参数(作为单个字符串)  </span><br><span class="line">$@     ：所有的位置参数(每个都作为独立的字符串)。  </span><br><span class="line">$?       ：当前shell进程中，上一个命令的返回值，如果上一个命令成功执行则$?的值为0，否则为其他非零值，常用做if语句条件  </span><br><span class="line">$$       ：当前shell进程的pid  </span><br><span class="line">$!        ：后台运行的最后一个进程的pid  </span><br><span class="line">$-        ：显示shell使用的当前选项  </span><br><span class="line">$_       ：之前命令的最后一个参数  </span><br><span class="line">### svn提交代码  </span><br><span class="line">`$svn st | grep &apos;^[AMD]&apos; | cut -c 9- | xargs svn ci -m &quot;commit&quot;`  </span><br><span class="line"></span><br><span class="line">### 递归清除.SVN文件  </span><br><span class="line">`find . -name &quot;.svn&quot; | xargs rm -rf `  </span><br><span class="line">### Shell符号&lt;&lt;&lt; (Here Document) </span><br><span class="line">[Here Document](http://www.tldp.org/LDP/abs/html/x17837.html) 是在Linux Shell 中的一种特殊的重定向方式，它的基本的形式如下 </span><br><span class="line">```  </span><br><span class="line">cmd &lt;&lt; delimiter</span><br><span class="line">  Here Document Content</span><br><span class="line">delimiter</span><br><span class="line">```  </span><br><span class="line">三个小于号的语法：command [args] &lt;&lt;&lt;[&quot;]$word[&quot;]；$word会展开并作为command的stdin。  </span><br><span class="line">例如：  </span><br><span class="line">echo &quot;abc123&quot; | cracklib-check等价于cracklib-check &lt;&lt;&lt; &quot;abc123&quot;  </span><br><span class="line">echo &quot;abc123&quot; | passwd root --stdin等价于passwd root &lt;&lt;&lt; &quot;abc123&quot;  </span><br><span class="line">注意事项：  </span><br><span class="line">```  </span><br><span class="line">EOF只是一个标识而已,可以替换成任意的合法字符(约定大于配置);  </span><br><span class="line">作为结尾的delimiter一定要顶格写,前面不能有任何字符;  </span><br><span class="line">作为结尾的delimiter后面也不能有任何的字符(包括空格!!!);  </span><br><span class="line">作为起始的delimiter前后的空格会被省略掉;  </span><br><span class="line">```  </span><br><span class="line">### Shell比较判断  </span><br><span class="line">```  </span><br><span class="line">    [ -a FILE ]  如果 FILE 存在则为真。    </span><br><span class="line">    [ -b FILE ]  如果 FILE 存在且是一个块特殊文件则为真。    </span><br><span class="line">    [ -c FILE ]  如果 FILE 存在且是一个字特殊文件则为真。    </span><br><span class="line">    [ -d FILE ]  如果 FILE 存在且是一个目录则为真。    </span><br><span class="line">    [ -e FILE ]  如果 FILE 存在则为真。    </span><br><span class="line">    [ -f FILE ]  如果 FILE 存在且是一个普通文件则为真。    </span><br><span class="line">    [ -g FILE ]  如果 FILE 存在且已经设置了SGID则为真。    </span><br><span class="line">    [ -h FILE ]  如果 FILE 存在且是一个符号连接则为真。    </span><br><span class="line">    [ -k FILE ]  如果 FILE 存在且已经设置了粘制位则为真。    </span><br><span class="line">    [ -p FILE ]  如果 FILE 存在且是一个名字管道(F如果O)则为真。    </span><br><span class="line">    [ -r FILE ]  如果 FILE 存在且是可读的则为真。    </span><br><span class="line">    [ -s FILE ]  如果 FILE 存在且大小不为0则为真。    </span><br><span class="line">    [ -t FD ]  如果文件描述符 FD 打开且指向一个终端则为真。    </span><br><span class="line">    [ -u FILE ]  如果 FILE 存在且设置了SUID (set user ID)则为真。    </span><br><span class="line">    [ -w FILE ]  如果 FILE 如果 FILE 存在且是可写的则为真。    </span><br><span class="line">    [ -x FILE ]  如果 FILE 存在且是可执行的则为真。    </span><br><span class="line">    [ -O FILE ]  如果 FILE 存在且属有效用户ID则为真。    </span><br><span class="line">    [ -G FILE ]  如果 FILE 存在且属有效用户组则为真。    </span><br><span class="line">    [ -L FILE ]  如果 FILE 存在且是一个符号连接则为真。    </span><br><span class="line">    [ -N FILE ]  如果 FILE 存在 and has been mod如果ied since it was last read则为真。    </span><br><span class="line">    [ -S FILE ]  如果 FILE 存在且是一个套接字则为真。    </span><br><span class="line">    [ FILE1 -nt FILE2 ]  如果 FILE1 has been changed more recently than FILE2, or 如果 FILE1 exists and FILE2 does not则为真。    </span><br><span class="line">    [ FILE1 -ot FILE2 ]  如果 FILE1 比 FILE2 要老, 或者 FILE2 存在且 FILE1 不存在则为真。    </span><br><span class="line">    [ FILE1 -ef FILE2 ]  如果 FILE1 和 FILE2 指向相同的设备和节点号则为真。    </span><br><span class="line">    [ -o OPTIONNAME ]  如果 shell选项 “OPTIONNAME” 开启则为真。    </span><br><span class="line">    [ -z STRING ]  “STRING” 的长度为零则为真。    </span><br><span class="line">    [ -n STRING ] or [ STRING ]  “STRING” 的长度为非零 non-zero则为真。    </span><br><span class="line">    [ STRING1 == STRING2 ]  如果2个字符串相同。 “=” may be used instead of “==” for strict POSIX compliance则为真。    </span><br><span class="line">    [ STRING1 != STRING2 ]  如果字符串不相等则为真。   </span><br><span class="line">    [ STRING1 &lt; STRING2 ]  如果 “STRING1” sorts before “STRING2” lexicographically in the current locale则为真。    </span><br><span class="line">    [ STRING1 &gt; STRING2 ]  如果 “STRING1” sorts after “STRING2” lexicographically in the current locale则为真。    </span><br><span class="line">    [ ARG1 OP ARG2 ] “OP” is one of -eq, -ne, -lt, -le, -gt or -ge. These arithmetic binary operators return true if “ARG1” is equal to, not equal to, less than, less than or equal to, greater than, or greater than or equal to “ARG2”, respectively. “ARG1” and “ARG2” are integers.   </span><br><span class="line">    if [[ $a != 1 &amp;&amp; $a != 2 ]] 如果是&amp;&amp;、||、&lt;和&gt;，必须使用在[[ ]]条件判断结构中，等价与if [ $a -ne 1] &amp;&amp; [ $a != 2 ]或if [ $a -ne 1 -a $a != 2 ]  </span><br><span class="line">```</span><br></pre></td></tr></table></figure></p>
<p>转载自： <a href="http://blog.csdn.net/taiyang1987912/article/details/40372789" target="_blank" rel="noopener">http://blog.csdn.net/taiyang1987912/article/details/40372789</a><br>```  </p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/shell/" rel="tag"># shell</a>
          
            <a href="/tags/transport/" rel="tag"># transport</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/03/14/ubuntu-openvpn/" rel="next" title="ubuntu-openvpn">
                <i class="fa fa-chevron-left"></i> ubuntu-openvpn
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="https://static.pexels.com/photos/34533/owl-glitter-stuffed-animal-cute.jpg"
                alt="Tony" />
            
              <p class="site-author-name" itemprop="name">Tony</p>
              <p class="site-description motion-element" itemprop="description">山高人为峰</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#简介"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#详解"><span class="nav-number">2.</span> <span class="nav-text">详解</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Shell输出不换行"><span class="nav-number">2.1.</span> <span class="nav-text">Shell输出不换行</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Tony</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
